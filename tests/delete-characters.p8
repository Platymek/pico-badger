pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
#include ../pecs/pecs.lua
#include ../pico-badger.lua

local w = pecs()
c = getBadgerComponents(w)

local e = w.entity()
e += c.new.Position(64, 32)
e += c.new.Sprite(0)

local deleted = false

function onDelete(i)

    local newE = w.entity()
    newE += c.new.Position(64, 32 + i * 16)
    newE += c.new.Sprite(i)
end

local t = 0

function _update60()

    t += 1/60
    w.update()

    print(e)
    if t > 3 and not deleted then 

        e += c.Delete({
            onDelete(1), onDelete(2), onDelete(3)}) 
        
        deleted = true
    end

    c.DeleteSystem()
end

function _draw()

    cls()

    c.GraphicsSystem()
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00007000000bb00000aaa00000909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000b00b0000000a0000909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070700000000b0000000a0000909000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000070000000b00000aaa00000999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00007000000b000000000a0000009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0077770000bbbb0000aaa00000009000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00001111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0001aaaa999910000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001aaaaa999991000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01aaaaaa999999100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01aaa11a999999100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01aaa11a199199100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01aaa11a911999100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01999999aaaaaa100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01999999aaaaaa100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01999999aa1aaa100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0199991111aaaa100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00199999aaaaa1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00019999aaaa10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00001111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
